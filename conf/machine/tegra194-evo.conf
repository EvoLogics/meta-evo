#
#@TYPE: Machine
#@NAME: Nvidia Jetson Xavier NX Evo baseboard - eMMC
#@DESCRIPTION: Nvidia Jetson Xavier NX Evologics Baseboard with QSPI+eMMC module
#

TEGRA_BOARDSKU ?= "0001"
TEGRA_BUPGEN_SPECS ?= "fab=100;boardsku=0001;boardrev= \
                       fab=200;boardsku=0001;boardrev= \
                       fab=300;boardsku=0001;boardrev= \
                       fab=301;boardsku=0001;boardrev="

IMAGE_ROOTFS_ALIGNMENT ?= "4"

require conf/machine/include/xavier-nx.inc

KERNEL_DEVICETREE = "_ddot_/_ddot_/_ddot_/_ddot_/nvidia/platform/t19x/jakku/kernel-dts/tegra194-evo.dtb"

EMMC_SIZE ?= "15758000128"

PARTITION_LAYOUT_TEMPLATE ?= "flash_${MACHINE}_custom.xml"

# Default to 7GiB rootfs part size for 16GiB units
ROOTFSPART_SIZE = "7516192768"

IMAGE_CLASSES += "image_types_tegra"

IMAGE_FSTYPES = "tar.gz tegraflash"

MACHINE_FEATURES_remove = "wifi bluetooth"

#Cuda support for gcc
GCCVERSION = "8.%"

KERNEL_ARGS:append = " loglevel=3"
KERNEL_ARGS:remove = "console=tty0"

DISTRO_FEATURES_append = " ldconfig virtualization x11 opengl"

PACKAGE_EXTRA_ARCHS_append = " jetson-xavier-nx-devkit-emmc"

